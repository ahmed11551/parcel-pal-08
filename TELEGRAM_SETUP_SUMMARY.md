# –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å Telegram Mini App

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É

### –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: 90%

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** ‚úÖ
   - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞: `telegram-web-app.js`
   - `WebApp.ready()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ `index.html`
   - `WebApp.expand()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
   - –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ

2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚úÖ
   - –í–∞–ª–∏–¥–∞—Ü–∏—è initData —á–µ—Ä–µ–∑ HMAC-SHA256
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ auth_date (–Ω–µ —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤)
   - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á: `HMAC_SHA256(bot_token, "WebAppData")`
   - –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `backend/src/utils/telegram.ts`

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º** ‚úÖ
   - –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å SendBuddy" –≤ `/start` –∫–æ–º–∞–Ω–¥–µ
   - Mini App URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `https://send-buddy.ru`
   - –ü–µ—Ä–µ–¥–∞—á–∞ initData —Ä–∞–±–æ—Ç–∞–µ—Ç

4. **UX/UI** ‚úÖ
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–µ–º—ã Telegram (light/dark)
   - BackButton –ø–æ–¥–¥–µ—Ä–∂–∫–∞
   - MainButton –ø–æ–¥–¥–µ—Ä–∂–∫–∞
   - –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

5. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** ‚úÖ
   - –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript –¥–ª—è –≤—Å–µ—Ö API
   - –¢–∏–ø—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `src/lib/telegram.ts`

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ BotFather

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Menu Button:

```
/mybots
‚Üí –í—ã–±–µ—Ä–∏—Ç–µ @SendBuddyExpress_Bot
‚Üí Bot Settings
‚Üí Menu Button
‚Üí –£–∫–∞–∂–∏—Ç–µ URL: https://send-buddy.ru
```

–ò–ª–∏ —á–µ—Ä–µ–∑ API:

```bash
curl -X POST "https://api.telegram.org/bot<TOKEN>/setChatMenuButton" \
  -H "Content-Type: application/json" \
  -d '{
    "menu_button": {
      "type": "web_app",
      "text": "–û—Ç–∫—Ä—ã—Ç—å SendBuddy",
      "web_app": {
        "url": "https://send-buddy.ru"
      }
    }
  }'
```

---

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------------|--------|------------|
| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ | ‚úÖ | –í index.html |
| ready() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è | ‚úÖ | –í index.html –∏ telegram.ts |
| expand() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è | ‚úÖ | –î–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ |
| –í–∞–ª–∏–¥–∞—Ü–∏—è initData | ‚úÖ | HMAC-SHA256 –Ω–∞ backend |
| –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–µ–º—ã | ‚úÖ | applyTelegramTheme() |
| HTTPS | ‚úÖ | send-buddy.ru |
| Menu Button | ‚ö†Ô∏è | –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ BotFather |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | ‚ö†Ô∏è | –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ |
| CloudStorage | ‚ö†Ô∏è | –¢–∏–ø–∏–∑–∞—Ü–∏—è –µ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production: 95%**

–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ. Mini App –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Menu Button –≤ BotFather
2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤
2. ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Menu Button –≤ BotFather
3. ‚ö†Ô∏è –û–±–Ω–æ–≤–∏—Ç—å frontend –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. ‚ö†Ô∏è –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í–û –ö PRODUCTION

