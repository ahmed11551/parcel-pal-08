# ðŸ”§ Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ "Cannot POST /api/auth/send-code"

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°

ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ backend Ð½Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð¸Ð»Ð¸ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð½Ð° Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹.

## Ð ÐµÑˆÐµÐ½Ð¸Ðµ

### Ð¨Ð°Ð³ 1: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ backend

```bash
cd backend
npm install
cd ..
```

### Ð¨Ð°Ð³ 2: Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ backend/.env

```bash
cd backend
cat > .env << 'EOF'
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=sendbuddy

JWT_SECRET=sendbuddy-secret-key-change-in-production-min-32-characters-long
JWT_EXPIRES_IN=7d

NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:5173
EOF
cd ..
```

Ð˜Ð»Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ:
```bash
./setup.sh
```

### Ð¨Ð°Ð³ 3: Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… (ÐµÑÐ»Ð¸ ÐµÑ‰Ðµ Ð½Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð°)

```bash
createdb -U postgres sendbuddy
```

Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· psql:
```bash
psql -U postgres -c "CREATE DATABASE sendbuddy;"
```

### Ð¨Ð°Ð³ 4: Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ backend

**ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»:**

```bash
cd backend

# Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Node.js Ð² PATH
export PATH="$HOME/.nvm/versions/node/v24.11.1/bin:$PATH"

npm run start:dev
```

Ð”Ð¾Ð¶Ð´Ð¸Ñ‚ÐµÑÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ:
```
Application is running on: http://localhost:3001
Swagger docs available at: http://localhost:3001/api/docs
```

### Ð¨Ð°Ð³ 5: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ http://localhost:3001/api/docs
2. Ð”Ð¾Ð»Ð¶Ð½Ð° Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒÑÑ Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
3. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´ Ð² frontend

## Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°, Ñ‡Ñ‚Ð¾ backend Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚
curl http://localhost:3001/api/docs

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° endpoint
curl -X POST http://localhost:3001/api/auth/send-code \
  -H "Content-Type: application/json" \
  -d '{"phone":"+79991234567"}'
```

## Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹

### 1. ÐŸÐ¾Ñ€Ñ‚ 3001 Ð·Ð°Ð½ÑÑ‚

```bash
# ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ
lsof -i :3001

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¿Ð¾Ñ€Ñ‚ Ð² backend/.env
```

### 2. Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð°

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:
- PostgreSQL Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½
- ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð² backend/.env
- Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… sendbuddy ÑÐ¾Ð·Ð´Ð°Ð½Ð°

### 3. ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð² Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ, Ð³Ð´Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ backend. Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:
- ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð‘Ð”
- ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
- ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð² ÐºÐ¾Ð´Ðµ

## ÐŸÐ¾ÑÐ»Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ

ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð³Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÐ° backend:
1. Frontend Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹
2. SMS ÐºÐ¾Ð´Ñ‹ Ð±ÑƒÐ´ÑƒÑ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ backend (Ð² dev Ñ€ÐµÐ¶Ð¸Ð¼Ðµ)
3. ÐœÐ¾Ð¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð¾Ð¹Ñ‚Ð¸ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ

