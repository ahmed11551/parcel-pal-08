# üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Uptime)

## üéØ –¶–µ–ª—å

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ SendBuddy.

---

## ‚úÖ Health Check Endpoint

### Endpoint: `GET /api/health`

**URL:** `https://send-buddy.ru/api/health`

**–û—Ç–≤–µ—Ç (200 OK):**
```json
{
  "status": "ok",
  "timestamp": "2025-12-22T01:42:40.000Z",
  "uptime": 12345.67,
  "version": "1.0.0",
  "checks": {
    "database": {
      "status": "ok",
      "latency": 5
    },
    "environment": {
      "jwtSecret": true,
      "databaseUrl": true,
      "telegramBotToken": true
    }
  }
}
```

**–û—Ç–≤–µ—Ç (503 Service Unavailable):**
```json
{
  "status": "degraded",
  "timestamp": "2025-12-22T01:42:40.000Z",
  "uptime": 12345.67,
  "checks": {
    "database": {
      "status": "error",
      "latency": 0
    }
  }
}
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: UptimeRobot (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ)

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://uptimerobot.com
   - –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

2. **–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∞:**
   - –ù–∞–∂–º–∏—Ç–µ "Add New Monitor"
   - **Monitor Type:** HTTP(s)
   - **Friendly Name:** SendBuddy API
   - **URL:** `https://send-buddy.ru/api/health`
   - **Monitoring Interval:** 5 minutes
   - **Alert Contacts:** –î–æ–±–∞–≤—å—Ç–µ email/Telegram

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤:**
   - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - Telegram –±–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - Webhook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–∞—Ä–∏–∞–Ω—Ç 2: Pingdom

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.pingdom.com
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   - **Check Type:** HTTP
   - **URL:** `https://send-buddy.ru/api/health`
   - **Interval:** 1 minute
   - **Alert Settings:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 3: StatusCake

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.statuscake.com
   - –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

2. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞:**
   - **Test Type:** HTTP
   - **Website URL:** `https://send-buddy.ru/api/health`
   - **Check Rate:** 5 minutes
   - **Contact Group:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 4: Better Uptime

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://betteruptime.com
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç

2. **–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∞:**
   - **Monitor Type:** HTTP(s)
   - **URL:** `https://send-buddy.ru/api/health`
   - **Check Interval:** 1 minute
   - **Regions:** –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω—ã

---

## üìä –ß—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—Å—è

### Health Check –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
   - –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ (latency)

2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `JWT_SECRET` - –Ω–∞–ª–∏—á–∏–µ
   - `DATABASE_URL` - –Ω–∞–ª–∏—á–∏–µ
   - `TELEGRAM_BOT_TOKEN` - –Ω–∞–ª–∏—á–∏–µ

3. **Uptime:**
   - –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

4. **Version:**
   - –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤

### Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ email –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ:
- –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (down)
- –°–µ—Ä–≤–∏—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (up)
- –ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç (> 5 —Å–µ–∫—É–Ω–¥)

### Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
3. –£–∑–Ω–∞–π—Ç–µ –≤–∞—à chat_id (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É, –∑–∞—Ç–µ–º `https://api.telegram.org/bot<TOKEN>/getUpdates`)
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ

### Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤:
- Slack
- Discord
- –í–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### Endpoint: `GET /api/metrics`

**URL:** `https://send-buddy.ru/api/metrics`

**–û—Ç–≤–µ—Ç:**
```json
{
  "timestamp": "2025-12-22T01:42:40.000Z",
  "metrics": {
    "httpRequests": {
      "count": 1234,
      "avg": 45.2,
      "min": 10,
      "max": 200
    },
    "sms": {
      "count": 56,
      "avg": 1200,
      "min": 800,
      "max": 3000
    },
    "telegram": {
      "count": 89,
      "avg": 150,
      "min": 50,
      "max": 500
    }
  },
  "allMetrics": [...]
}
```

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (UptimeRobot)

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://uptimerobot.com
2. –ù–∞–∂–º–∏—Ç–µ "Sign Up"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∞

1. –ù–∞–∂–º–∏—Ç–µ "Add New Monitor"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Monitor Type:** HTTP(s)
   - **Friendly Name:** SendBuddy Production
   - **URL:** `https://send-buddy.ru/api/health`
   - **Monitoring Interval:** 5 minutes
3. –ù–∞–∂–º–∏—Ç–µ "Create Monitor"

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Alert Contacts"
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à email
3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –º–æ–Ω–∏—Ç–æ—Ä—É
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç

### –ì–æ—Ç–æ–≤–æ! ‚úÖ

–¢–µ–ø–µ—Ä—å –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –í—Ä—É—á–Ω—É—é:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health check
curl https://send-buddy.ru/api/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# {"status":"ok","timestamp":"...","uptime":...,"checks":{...}}
```

### –ß–µ—Ä–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å endpoint –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö.

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   - –î–ª—è production: 1-5 –º–∏–Ω—É—Ç
   - –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 15 –º–∏–Ω—É—Ç

2. **–†–µ–≥–∏–æ–Ω—ã:**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω—ã –±–ª–∏–∑–∫–∏–µ –∫ –≤–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
   - –ú–∏–Ω–∏–º—É–º 2-3 —Ä–µ–≥–∏–æ–Ω–∞ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

3. **–ê–ª–µ—Ä—Ç—ã:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (email + Telegram)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ escalation (–µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω > 10 –º–∏–Ω—É—Ç)

4. **Dashboard:**
   - –°–æ–∑–¥–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ç—É—Å-–ø–µ–π–¥–∂ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ uptime –∏ –∏—Å—Ç–æ—Ä–∏—é –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—ã –±—É–¥–µ—Ç–µ:
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- ‚úÖ –í–∏–¥–µ—Ç—å uptime —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ò–º–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!** üìä

